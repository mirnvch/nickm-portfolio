---
import BlogPost from '../../components/BlogPost.astro';
import { getPostSlugs, getPost } from '../../data/posts';

export function getStaticPaths() {
  return getPostSlugs('en').map(slug => ({
    params: { slug },
  }));
}

const { slug } = Astro.params;
const post = getPost('en', slug!);

if (!post) {
  return Astro.redirect('/404');
}
---

<BlogPost lang="en" post={post} slug={slug!} />
